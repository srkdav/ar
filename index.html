<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scaled 3D Bar Chart</title>
  <!-- Latest A-Frame -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/gh/jeromeetienne/ar.js/aframe/build/aframe-ar.min.js"></script>
</head>
<body>
  <a-scene embedded arjs>
    <!-- Marker -->
    <a-marker preset="custom" type="pattern" url="marker.patt">
      <!-- Scale the entire graph -->
      <a-entity id="chart-container" position="0 0 0" rotation="0 45 0" scale="2 2 2"></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const chartContainer = document.querySelector("#chart-container");

      // Sample data
      const dataPoints = [
        { region: "India", x: 0.1, y: 0.5, z: 0.2, color: "red" },
        { region: "US", x: 0.3, y: 0.8, z: 0.4, color: "green" },
        { region: "UK", x: 0.2, y: 0.3, z: 0.6, color: "blue" },
        { region: "Germany", x: 0.4, y: 0.6, z: 0.8, color: "yellow" },
      ];

      // Add bars for each data point
      dataPoints.forEach(point => {
        const bar = document.createElement("a-box");
        bar.setAttribute("position", `${point.x} ${point.y / 2} ${point.z}`);
        bar.setAttribute("height", point.y);
        bar.setAttribute("width", "0.1"); // Increased bar width
        bar.setAttribute("depth", "0.1"); // Increased bar depth
        bar.setAttribute("color", point.color);
        chartContainer.appendChild(bar);

        // Add labels above each bar
        const label = document.createElement("a-text");
        label.setAttribute("value", `${point.region}\nSales: ${point.x * 100}M$\nRevenue: ${point.y * 1000}M$`);
        label.setAttribute("color", "white");
        label.setAttribute("side", "double");
        label.setAttribute("align", "center");
        label.setAttribute("scale", "0.3 0.3 0.3"); // Larger labels for readability
        label.setAttribute("position", `${point.x} ${point.y + 0.2} ${point.z + 0.05}`); // Slightly above and forward
        chartContainer.appendChild(label);
      });

      // Add axes
      const axes = [
        { start: "0 0 0", end: "0.7 0 0", color: "white", label: "Sales" },
        { start: "0 0 0", end: "0 1.2 0", color: "white", label: "Revenue" },
        { start: "0 0 0", end: "0 0 1.2", color: "white", label: "Region" },
      ];

      axes.forEach(axis => {
        const line = document.createElement("a-entity");
        line.setAttribute("line", `start: ${axis.start}; end: ${axis.end}; color: ${axis.color}`);
        chartContainer.appendChild(line);

        const label = document.createElement("a-text");
        const position = axis.end.split(" ").map(v => parseFloat(v) + 0.15).join(" ");
        label.setAttribute("value", axis.label);
        label.setAttribute("color", "white");
        label.setAttribute("side", "double");
        label.setAttribute("scale", "0.3 0.3 0.3"); // Larger axis labels
        label.setAttribute("position", position);
        chartContainer.appendChild(label);
      });
    });
  </script>
</body>
</html>
